{"name":"Spine-spritekit","tagline":"Unofficial Spine 2D Runtime for iOS 7 SpriteKit","body":"I wrote a quick code for my own project that uses Spine 2D Skeletal Animation Tool (http://esotericsoftware.com) and iOS 7 SpriteKit for my own project. Though it does not fully support all the features of Spine 2D, it basically,\r\n\r\n- Places Bones and Skot Attachments on SKScene (SpriteKit Scene object)\r\n- Animates Bone and Texture (Slot Attachment) Timelines using SKAction for translate, rotate, scale and texture sequences\r\n- Allows you to change the skin of a Skeleton before animation starts\r\n\r\nOfficial runtimes are here: http://esotericsoftware.com/spine-runtimes\r\n\r\nUntil the official release of SpriteKit Runtime from Esoteric software, hope it's a quick starter for your projects if you are considering use of Spine and SpriteKit at the same time.\r\n\r\nFeel free to fork and send pull requests!\r\n\r\n_simon_\r\n\r\n![Screenshot - iPhone](https://raw.github.com/simonkim/spine-spritekit/43396b75aa283d6cc7fe6a2bfc9e53a7f6f375ee/Screenshots/iPhone.png)\r\n\r\n## Usage Examples\r\n### Simple\r\n<pre>\r\n+ (SKScene *) buildSpineboyLoopWithSize:(CGSize) size\r\n{\r\n    SKScene *scene = [[SKScene alloc] initWithSize:size];\r\n    scene.scaleMode = SKSceneScaleModeAspectFill;\r\n    scene.backgroundColor = [UIColor whiteColor];\r\n    \r\n    SpineSkeleton *skeleton = [DZSpineSceneBuilder loadSkeletonName:@\"spineboy\" scale:1];\r\n    DZSpineSceneBuilder *builder = [DZSpineSceneBuilder builder];\r\n    SKNode *node = [builder nodeWithSkeleton:skeleton animationNames:@[@\"walk\", @\"jump\", @\"walk\"] loop:YES];\r\n\r\n    // place holder node for position adjustment\r\n    SKNode *placeHolder = [SKNode node];\r\n    placeHolder.position = CGPointMake(size.width /2, size.height /3);\r\n    [placeHolder addChild:node];\r\n    [scene addChild:placeHolder];\r\n    \r\n    return scene;\r\n}\r\n</pre>\r\n\r\n### Two Skeletons\r\n<pre>\r\n+ (SKScene *) buildComplexSceneWithSize:(CGSize) size\r\n{\r\n    SpineSkeleton *goblin = [DZSpineSceneBuilder loadSkeletonName:@\"goblins\" scale:1];\r\n    \r\n    // skin: \"goblingirl\"\r\n    spSkeleton_setSkinByName(goblin.spineContext->skeleton, \"goblingirl\");\r\n    spSkeleton_setSlotsToSetupPose(goblin.spineContext->skeleton);\r\n    \r\n    DZSpineSceneDescription *sceneDesc = [DZSpineSceneDescription description];\r\n    \r\n    NSArray *tracks = @[\r\n                        // spineboy\r\n                        @{ @\"skeleton\" : @\"spineboy\",\r\n                           @\"scale\" : @(1),\r\n                           @\"position\" : NSStringFromCGPoint(CGPointMake(-80, -100)),\r\n                           @\"animations\" : @[\r\n                                            @{@\"name\" : @\"walk\"},\r\n                                            @{@\"name\" : @\"walk\"},\r\n                                            @{@\"name\" : @\"jump\"},\r\n                                            @{@\"name\" : @\"walk\"},\r\n                                            @{@\"name\" : @\"jump\"},\r\n                                            @{@\"delayUntil\" : @(8)},\r\n                                            @{@\"name\" : @\"jump\"},\r\n                                            @{@\"name\" : @\"walk\"}],\r\n                           @\"loop\" : @(YES),\r\n                           @\"wait\" : @(YES) },\r\n\r\n                        // goblin\r\n                        @{ @\"skeleton\" : goblin,\r\n                           @\"scale\" : @(0.8),\r\n                           @\"position\" : NSStringFromCGPoint(CGPointMake(30, -200)),\r\n                           @\"animations\" : @[\r\n                                                @{@\"name\" : @\"walk\"},\r\n                                                @{@\"name\" : @\"walk\"},\r\n                                                @{@\"name\" : @\"walk\"},\r\n                                              @{@\"delayUntil\" : @(8)},\r\n                                              @{@\"name\" : @\"walk\"},\r\n                                                @{@\"name\" : @\"walk\"},\r\n                                              ],\r\n                           @\"loop\" : @(YES),\r\n                           @\"wait\" : @(YES) },];\r\n    \r\n    \r\n    [tracks enumerateObjectsUsingBlock:^(NSDictionary *track, NSUInteger idx, BOOL *stop) {\r\n        [sceneDesc addTrackRaw: track];\r\n    }];\r\n    \r\n    NSArray *textures = @[@{ @\"skeleton\" : @\"spineboy\",\r\n                             @\"textureName\" : @\"goblinhead4spineboy\",\r\n                             @\"attachment\" : @\"head\"}];\r\n    [textures enumerateObjectsUsingBlock:^(NSDictionary *texture, NSUInteger idx, BOOL *stop) {\r\n        [sceneDesc addCustomTextureRaw: texture];\r\n    }];\r\n    \r\n    \r\n    NSArray *nodes = [sceneDesc buildScene];\r\n    \r\n    SKNode *placeHolder = [SKNode node];\r\n    placeHolder.position = CGPointMake(size.width /2, size.height /2);\r\n    \r\n    // Give zPosition to each character so they don't mix sprites in draw orders\r\n    CGFloat __block zPosition = 1000;\r\n    [nodes enumerateObjectsUsingBlock:^(SKNode *node, NSUInteger idx, BOOL *stop) {\r\n        node.zPosition = zPosition;\r\n        [placeHolder addChild:node];\r\n        zPosition += 100;\r\n    }];\r\n    \r\n    SKScene *scene = [[SKScene alloc] initWithSize:size];\r\n    scene.scaleMode = SKSceneScaleModeAspectFill;\r\n    scene.backgroundColor = [UIColor whiteColor];\r\n    \r\n    [scene addChild:placeHolder];\r\n    return scene;\r\n}\r\n</pre>","google":"","note":"Don't delete this file! It's used internally to help with page regeneration."}